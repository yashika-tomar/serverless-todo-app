{"filter":false,"title":"todos.js","tooltip":"/project final initial/cd12101-Deploy-Application-with-AWS-Lambda/starter/backend/src/businessLogic/todos.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":44,"column":0},"action":"insert","lines":["import { v4 as uuidv4 } from 'uuid'","import { TodosAccess } from '../dataLayer/todosAccess.js'","import { AttachmentUtils } from '../fileStorage/attachmentUtils.js'","","const todosAccess = new TodosAccess()","const attachmentUtils = new AttachmentUtils()","","export async function getTodosForUser(userId) {","  return await todosAccess.getTodos(userId)","}","","export async function createTodo(userId, createTodoRequest) {","  const todoId = uuidv4()","  const createdAt = new Date().toISOString()","","  const newItem = {","    userId,","    todoId,","    createdAt,","    name: createTodoRequest.name,","    dueDate: createTodoRequest.dueDate,","    done: false","  }","","  await todosAccess.createTodo(newItem)","  return newItem","}","","export async function updateTodo(userId, todoId, updateRequest) {","  return await todosAccess.updateTodo(userId, todoId, updateRequest)","}","","export async function deleteTodo(userId, todoId) {","  return await todosAccess.deleteTodo(userId, todoId)","}","","export async function createAttachmentPresignedUrl(userId, todoId) {","  const uploadUrl = attachmentUtils.getUploadUrl(todoId)","  const attachmentUrl = attachmentUtils.getAttachmentUrl(todoId)","","  await todosAccess.updateAttachmentUrl(userId, todoId, attachmentUrl)","","  return uploadUrl","}",""],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":44,"column":0},"end":{"row":44,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1763836072042,"hash":"27a33221e55677f1c8e1f8b02663b5cb25cea4c6"}