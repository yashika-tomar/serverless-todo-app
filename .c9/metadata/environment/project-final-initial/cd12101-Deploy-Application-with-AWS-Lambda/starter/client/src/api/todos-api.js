{"filter":false,"title":"todos-api.js","tooltip":"/project-final-initial/cd12101-Deploy-Application-with-AWS-Lambda/starter/client/src/api/todos-api.js","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["import Axios from 'axios'","","export async function getTodos(idToken) {","  console.log('Fetching todos')","  console.log(\"ID TOKEN USED:\", idToken);","","","  const response = await Axios.get(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","  console.log('Todos:', response.data)","  return response.data.items","}","","export async function createTodo(idToken, newTodo) {","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    JSON.stringify(newTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","  return response.data.item","}","","export async function patchTodo(idToken, todoId, updatedTodo) {","  await Axios.patch(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    JSON.stringify(updatedTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","}","","export async function deleteTodo(idToken, todoId) {","  await Axios.delete(`${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`, {","    headers: {","      'Content-Type': 'application/json',","      Authorization: `Bearer ${idToken}`","    }","  })","}","","export async function getUploadUrl(idToken, todoId) {","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}/attachment`,","    '',","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","  return response.data.uploadUrl","}","","export async function uploadFile(uploadUrl, file) {","  await Axios.put(uploadUrl, file)","}",""],"id":2},{"start":{"row":0,"column":0},"end":{"row":95,"column":0},"action":"insert","lines":["import Axios from 'axios'","","async function getAccessToken(getAccessTokenSilently) {","  return await getAccessTokenSilently({","    audience: \"https://todo-api-dev/\",","    scope: \"openid profile email\",","  });","}","","export async function getTodos(getAccessTokenSilently) {","  console.log(\"Fetching todos\")","","  const accessToken = await getAccessToken(getAccessTokenSilently)","  console.log(\"ACCESS TOKEN USED:\", accessToken)","","  const response = await Axios.get(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","","  console.log(\"Todos:\", response.data)","  return response.data.items","}","","export async function createTodo(getAccessTokenSilently, newTodo) {","  const accessToken = await getAccessToken(getAccessTokenSilently)","","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    JSON.stringify(newTodo),","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","","  return response.data.item","}","","export async function patchTodo(getAccessTokenSilently, todoId, updatedTodo) {","  const accessToken = await getAccessToken(getAccessTokenSilently)","","  await Axios.patch(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    JSON.stringify(updatedTodo),","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","}","","export async function deleteTodo(getAccessTokenSilently, todoId) {","  const accessToken = await getAccessToken(getAccessTokenSilently)","","  await Axios.delete(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","}","","export async function getUploadUrl(getAccessTokenSilently, todoId) {","  const accessToken = await getAccessToken(getAccessTokenSilently)","","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}/attachment`,","    \"\",","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","","  return response.data.uploadUrl","}","","export async function uploadFile(uploadUrl, file) {","  await Axios.put(uploadUrl, file)","}",""]}],[{"start":{"row":0,"column":0},"end":{"row":95,"column":0},"action":"remove","lines":["import Axios from 'axios'","","async function getAccessToken(getAccessTokenSilently) {","  return await getAccessTokenSilently({","    audience: \"https://todo-api-dev/\",","    scope: \"openid profile email\",","  });","}","","export async function getTodos(getAccessTokenSilently) {","  console.log(\"Fetching todos\")","","  const accessToken = await getAccessToken(getAccessTokenSilently)","  console.log(\"ACCESS TOKEN USED:\", accessToken)","","  const response = await Axios.get(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","","  console.log(\"Todos:\", response.data)","  return response.data.items","}","","export async function createTodo(getAccessTokenSilently, newTodo) {","  const accessToken = await getAccessToken(getAccessTokenSilently)","","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    JSON.stringify(newTodo),","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","","  return response.data.item","}","","export async function patchTodo(getAccessTokenSilently, todoId, updatedTodo) {","  const accessToken = await getAccessToken(getAccessTokenSilently)","","  await Axios.patch(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    JSON.stringify(updatedTodo),","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","}","","export async function deleteTodo(getAccessTokenSilently, todoId) {","  const accessToken = await getAccessToken(getAccessTokenSilently)","","  await Axios.delete(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","}","","export async function getUploadUrl(getAccessTokenSilently, todoId) {","  const accessToken = await getAccessToken(getAccessTokenSilently)","","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}/attachment`,","    \"\",","    {","      headers: {","        \"Content-Type\": \"application/json\",","        Authorization: `Bearer ${accessToken}`,","      },","    }","  )","","  return response.data.uploadUrl","}","","export async function uploadFile(uploadUrl, file) {","  await Axios.put(uploadUrl, file)","}",""],"id":3},{"start":{"row":0,"column":0},"end":{"row":92,"column":0},"action":"insert","lines":["import Axios from 'axios'","","async function getToken(getAccessTokenSilently) {","  return await getAccessTokenSilently({","    audience: process.env.REACT_APP_AUTH0_AUDIENCE,","    scope: 'write:todos openid profile email'","  })","}","","export async function getTodos(getAccessTokenSilently) {","  const token = await getToken(getAccessTokenSilently)","","  console.log(\"Fetching todos with token:\", token)","","  const response = await Axios.get(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","  return response.data.items","}","","export async function createTodo(getAccessTokenSilently, newTodo) {","  const token = await getToken(getAccessTokenSilently)","","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    JSON.stringify(newTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","","  return response.data.item","}","","export async function patchTodo(getAccessTokenSilently, todoId, updatedTodo) {","  const token = await getToken(getAccessTokenSilently)","  ","  await Axios.patch(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    JSON.stringify(updatedTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","}","","export async function deleteTodo(getAccessTokenSilently, todoId) {","  const token = await getToken(getAccessTokenSilently)","","  await Axios.delete(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","}","","export async function getUploadUrl(getAccessTokenSilently, todoId) {","  const token = await getToken(getAccessTokenSilently)","","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}/attachment`,","    '',","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","","  return response.data.uploadUrl","}","","export async function uploadFile(uploadUrl, file) {","  await Axios.put(uploadUrl, file)","}",""]}],[{"start":{"row":0,"column":0},"end":{"row":92,"column":0},"action":"remove","lines":["import Axios from 'axios'","","async function getToken(getAccessTokenSilently) {","  return await getAccessTokenSilently({","    audience: process.env.REACT_APP_AUTH0_AUDIENCE,","    scope: 'write:todos openid profile email'","  })","}","","export async function getTodos(getAccessTokenSilently) {","  const token = await getToken(getAccessTokenSilently)","","  console.log(\"Fetching todos with token:\", token)","","  const response = await Axios.get(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","  return response.data.items","}","","export async function createTodo(getAccessTokenSilently, newTodo) {","  const token = await getToken(getAccessTokenSilently)","","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    JSON.stringify(newTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","","  return response.data.item","}","","export async function patchTodo(getAccessTokenSilently, todoId, updatedTodo) {","  const token = await getToken(getAccessTokenSilently)","  ","  await Axios.patch(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    JSON.stringify(updatedTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","}","","export async function deleteTodo(getAccessTokenSilently, todoId) {","  const token = await getToken(getAccessTokenSilently)","","  await Axios.delete(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","}","","export async function getUploadUrl(getAccessTokenSilently, todoId) {","  const token = await getToken(getAccessTokenSilently)","","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}/attachment`,","    '',","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${token}`","      }","    }","  )","","  return response.data.uploadUrl","}","","export async function uploadFile(uploadUrl, file) {","  await Axios.put(uploadUrl, file)","}",""],"id":4},{"start":{"row":0,"column":0},"end":{"row":34,"column":0},"action":"insert","lines":["import Axios from 'axios'","","export async function getTodos(idToken) {","  console.log('Fetching todos')","  console.log(\"ID TOKEN USED:\", idToken);","","  const response = await Axios.get(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","","  console.log('Todos:', response.data)","  return response.data.items","}","","export async function createTodo(idToken, newTodo) {","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    JSON.stringify(newTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","","  return response.data.item","}",""]}],[{"start":{"row":0,"column":0},"end":{"row":34,"column":0},"action":"remove","lines":["import Axios from 'axios'","","export async function getTodos(idToken) {","  console.log('Fetching todos')","  console.log(\"ID TOKEN USED:\", idToken);","","  const response = await Axios.get(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","","  console.log('Todos:', response.data)","  return response.data.items","}","","export async function createTodo(idToken, newTodo) {","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    JSON.stringify(newTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","","  return response.data.item","}",""],"id":5},{"start":{"row":0,"column":0},"end":{"row":71,"column":0},"action":"insert","lines":["import Axios from 'axios'","","export async function getTodos(idToken) {","  const response = await Axios.get(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","  return response.data.items","}","","export async function createTodo(idToken, newTodo) {","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos`,","    JSON.stringify(newTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","  return response.data.item","}","","export async function patchTodo(idToken, todoId, updatedTodo) {","  await Axios.patch(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    JSON.stringify(updatedTodo),","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","}","","export async function deleteTodo(idToken, todoId) {","  await Axios.delete(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}`,","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","}","","export async function getUploadUrl(idToken, todoId) {","  const response = await Axios.post(","    `${process.env.REACT_APP_API_ENDPOINT}/todos/${todoId}/attachment`,","    '',","    {","      headers: {","        'Content-Type': 'application/json',","        Authorization: `Bearer ${idToken}`","      }","    }","  )","  return response.data.uploadUrl","}","","export async function uploadFile(uploadUrl, file) {","  await Axios.put(uploadUrl, file)","}",""]}]]},"ace":{"folds":[],"scrolltop":740,"scrollleft":0,"selection":{"start":{"row":71,"column":0},"end":{"row":71,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1763845639227,"hash":"f34b6e1723ff5c07a4bb5093586e3c8fe0bbe90b"}